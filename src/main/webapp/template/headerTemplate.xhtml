<?xml version="1.0" encoding="UTF-8"?>
<!--
  - Created by Osman Balci and Jaydon Bingham on 2025.3.25
  - Copyright Â© 2025 Osman Balci and Jaydon Bingham. All rights reserved.
  -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="jakarta.faces.html"
      xmlns:ui="jakarta.faces.facelets"
      xmlns:c="jakarta.tags.core"
      xmlns:p="http://primefaces.org/ui">

    <!--
    *********************************************
    * Header Component of Template siteTemplate *
    *********************************************
    This page's content is displayed on the top of each page created based on the siteTemplate.
    Changes made in this file will show up automatically with all pages created based on the
    siteTemplate for the entire site, achieving great maintainability.
    -->

    <!-- Do not enter tags before the composition line since they are ignored by JF -->
    <ui:composition>
        <h:form>
            <table border="0" cellspacing="0" cellpadding="10" width="100%">
                <tr>
                    <!--
                    ************************************
                    Column 1 (Left): Videos Logo Image
                    ************************************
                    -->
                    <td align="left" valign="middle" style="width:170px;">
                        <!--
                        Use EL to reference the image file since it will be accessed from all UI pages.
                        Column width = Logo Image Width
                        -->
                        <h:link outcome="/index">
                            <img src="#{resource['images:VideosLogo.png']}"
                                 style="height:64px; width:auto; float:left; padding-left:10px; border:none;"
                                 alt="Videos Logo" />
                        </h:link>
                    </td>
                    <!--
                     ***************************
                     Column 2 (Center): App Name
                     ***************************
                     -->
                    <td align="center" valign="middle" >
                        <c:if test="#{userController.userIsSignedIn() == true}">
                            <span class="headerTitle">Hello, #{userController.signedInUser.firstName}</span>
                        </c:if>
                        <c:if test="#{userController.userIsSignedIn() == false}">
                            <span class="headerTitle">Hello, Guest</span>
                        </c:if>
                    </td>
                    <!--
                    ***************************************
                    Column 3 (Right): Hamburger Menu Button
                    ***************************************
                    -->
                    <!--
                    Constant column 3 width is required for the middle column to be able to center its content.
                    Width 100 is for the menu button. Menu items are displayed as an overlay.
                    style="white-space: nowrap;" prevents menu item name to wrap around.
                    -->
                    <td align="right" valign="middle" style="width:100px;">
                        <div style="padding-right:10px">
                            <p:commandButton id="dynaButton" value="Menu" type="button" icon="pi pi-bars"/>
                            <!--
                            *** PrimeFaces tieredMenu displays submenus in nested overlays ***
                                The following must be included in siteStyles.css to override the
                                default style to auto adjust menu item widths with no wrap.

                                    /* PrimeFaces tieredMenu skinning */
                                    .ui-menu .ui-menu-list .ui-menu-child {
                                        white-space: nowrap;
                                        width: auto !important;
                                    }
                            -->
                            <p:tieredMenu overlay="true" trigger="dynaButton" my="left top" at="left bottom">
                                <p:menuitem value="Home" outcome="/index" icon="fas fa-home"/>

                                <p:submenu label="Public Videos" icon="fas fa-star">
                                    <p:menuitem value="Data Table" icon="fas fa-table" outcome="/publicVideo/DataTable.xhtml"/>
                                    <p:menuitem value="Data View" icon="fas fa-eye" outcome="/publicVideo/DataView.xhtml"/>
                                </p:submenu>

                                <p:submenu label="Search" icon="fas fa-search">
                                    <p:menuitem value="Public Videos database" icon="fas fa-database" outcome="/databaseSearch/DatabaseSearch.xhtml"/>
                                    <p:menuitem value="YouTube Data API" onclick="PF('VideoSearchDialog').show();return false;" icon="fas fa-gear" />
                                </p:submenu>
                                <!--
                                ===========================================
                                |   Menu Options IF a User is Signed In   |
                                ===========================================
                                -->
                                <c:if test="#{userController.userIsSignedIn() == true}">
                                    <p:menuitem value="My Videos" outcome="/userVideo/List" icon="fas fa-file-alt"/>

                                    <p:menuitem outcome="/userAccount/Profile">
                                        <p:graphicImage cache="false" styleClass="smallProfilePhoto" value="#{userController.userPhoto()}" />
                                        &nbsp;My Account
                                    </p:menuitem>

                                    <p:menuitem value="Sign Out" action="#{userController.logout()}" ajax="false" icon="fas fa-sign-out-alt" />
                                </c:if>
                                <!--
                                ============================================
                                |   Menu Options IF No User is Signed In   |
                                ============================================
                                -->
                                <c:if test="#{userController.userIsSignedIn() == false}">
                                    <p:menuitem value="Sign In" outcome="/signIn/SignIn" icon="fas fa-sign-in-alt"/>
                                    <p:menuitem value="Create Account" outcome="/userAccount/CreateAccount" icon="fas fa-user-plus"/>
                                </c:if>


                            </p:tieredMenu>
                        </div>
                    </td>
                </tr>
            </table>
        </h:form>
        <ui:include src="/apiSearch/ApiSearch.xhtml"/>
    </ui:composition>
    <!-- Do not enter tags before the composition line since they are ignored by JF -->

</html>
